#https://direnv.net/man/direnv-stdlib.1.html
export STX_WORKSPACE_DIR="$(pwd)"
export STX_WORKSPACE_LOCAL=1
layout julia
dotenv .env.local
dotenv_if_exists .env
dotenv_if_exists .env.machine 

stx/i/run/asdf-install

export STX_WORKSPACE_DIR="$(pwd)"
export STX_WORKSPACE_LOCAL=1
layout julia
dotenv .env.local
dotenv_if_exists .env
dotenv_if_exists .env.machine 

stx/i/run/asdf-install

direnv_load opam exec direnv dump

#https://stackoverflow.com/questions/47508389/ocaml-command-line-cannot-find-topfind
#opam install ocamlfind

if [ -s $HOME/.config/stx.env ]; then
  echo 'Workspace at $STX_WORKSPACE_DIR'
else
  echo "STX_WORKSPACE_DIR=$STX_WORKSPACE_DIR" > $HOME/.config/stx.env
fi
